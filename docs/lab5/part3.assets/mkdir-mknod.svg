<svg width="3279" height="1962" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden"><g transform="translate(-421 -271)"><path d="M1091.5 299.001C1091.5 286.022 1102.02 275.5 1115 275.5L1896 275.5C1908.98 275.5 1919.5 286.022 1919.5 299.001L1919.5 392.999C1919.5 405.978 1908.98 416.5 1896 416.5L1115 416.5C1102.02 416.5 1091.5 405.978 1091.5 392.999Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1255.89 374)">mkdir</text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1482.19 374)">/</text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1527.45 374)">mknod</text><rect x="1091.5" y="507.5" width="828" height="253" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1133.42 613)">路径解析，获取父目</text><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1149.8 711)">录</text><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1232.3 711)">目录项</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1479.8 711)">last_dentry</text><path d="M1.14583-0.00192622 1.25996 67.8914-1.0317 67.8952-1.14583 0.00192622ZM-13.75 0.0231146C-13.7627-7.57079-7.61702-13.7372-0.0231146-13.75 7.57079-13.7627 13.7372-7.61702 13.75-0.0231146 13.7627 7.57079 7.61702 13.7372 0.0231146 13.75-7.57079 13.7627-13.7372 7.61702-13.75 0.0231146ZM13.8564 63.2868 0.152657 90.8099-13.6436 63.3331Z" transform="matrix(-1 0 0 1 1505.15 416)"/><path d="M1091.5 973.5 1505.5 869.5 1919.5 973.5 1505.5 1077.5Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1320.47 1001)">文件存在</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1650.47 1001)">?</text><rect x="1091.5" y="1199.5" width="828" height="253" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1146.48 1305)">创建</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1311.48 1305)">dentry</text><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1532.85 1305)">结构，并</text><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1215.92 1404)">添加到父目录中</text><rect x="1091.5" y="1742.5" width="828" height="253" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1174.67 1848)">分配新的索引节点</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1409.29 1945)">inode</text><rect x="2208.5" y="539.5" width="1484" height="189" stroke="#000000" stroke-width="4.58333" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="18.3333 13.75" fill="#FFFFFF"/><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 617)">last_dentry</text><text fill="#333333" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2666.8 617)">= </text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2737.84 617)">sfs_lookup</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3093.05 617)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3128.57 617)">path</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3270.65 617)">,</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3341.7 617)">&amp;</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3377.22 617)">is_find</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3625.86 617)">,</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 694)">&amp;</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2276.07 694)">is_root</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2524.72 694)">);</text><path d="M1506.15 760 1506.15 846.156 1503.85 846.156 1503.85 760ZM1491.25 760C1491.25 752.406 1497.41 746.25 1505 746.25 1512.59 746.25 1518.75 752.406 1518.75 760 1518.75 767.594 1512.59 773.75 1505 773.75 1497.41 773.75 1491.25 767.594 1491.25 760ZM1518.75 841.573 1505 869.073 1491.25 841.573Z"/><path d="M1.14583-3.37618e-06 1.14613 99.5659-1.14554 99.5659-1.14583 3.37618e-06ZM-13.75 4.05141e-05C-13.75-7.59388-7.59396-13.75-4.05141e-05-13.75 7.59388-13.75 13.75-7.59396 13.75-4.05141e-05 13.75 7.59388 7.59396 13.75 4.05141e-05 13.75-7.59388 13.75-13.75 7.59396-13.75 4.05141e-05ZM13.7503 94.9825 0.000360892 122.483-13.7497 94.9826Z" transform="matrix(-1 0 0 1 1505 1077)"/><path d="M1506.15 1452 1506.15 1718.5 1503.85 1718.5 1503.85 1452ZM1491.25 1452C1491.25 1444.41 1497.41 1438.25 1505 1438.25 1512.59 1438.25 1518.75 1444.41 1518.75 1452 1518.75 1459.59 1512.59 1465.75 1505 1465.75 1497.41 1465.75 1491.25 1459.59 1491.25 1452ZM1518.75 1713.92 1505 1741.42 1491.25 1713.92Z"/><rect x="2208.5" y="959.5" width="1484" height="733" stroke="#000000" stroke-width="4.58333" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="18.3333 13.75" fill="#FFFFFF"/><text fill="#4B69C6" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1037)">if</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2347.11 1037)">(</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2382.63 1037)">S_ISREG</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2631.28 1037)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2666.8 1037)">mode</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2808.88 1037)">))</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2915.45 1037)">{</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2382.63 1114)">dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2631.28 1114)">=</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2702.32 1114)">new_dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3057.53 1114)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3093.05 1114)">fname</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3270.65 1114)">,</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3341.7 1114)">FILE</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3483.78 1114)">);</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1191)">}</text><text fill="#4B69C6" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2311.59 1191)">else</text><text fill="#4B69C6" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2489.2 1191)">if</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2595.76 1191)">(</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2631.28 1191)">S_ISDIR</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2879.92 1191)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2915.45 1191)">mode</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3057.53 1191)">))</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3164.09 1191)">{</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2382.63 1268)">dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2631.28 1268)">=</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2702.32 1268)">new_dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3057.53 1268)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3093.05 1268)">fname</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3270.65 1268)">,</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3341.7 1268)">E</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3377.22 1268)">DIR</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3483.78 1268)">);</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1345)">}</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1422)">..</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2311.59 1422)">.</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2240.55 1499)">sfs_alloc_dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2808.88 1499)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2844.4 1499)">last_dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3235.13 1499)">-</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3270.65 1499)">&gt;</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3306.17 1499)">inode</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3483.78 1499)">,</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1576)">dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2453.67 1576)">);</text><path d="M2208.5 299C2208.5 286.021 2219.02 275.5 2232 275.5L3669 275.5C3681.98 275.5 3692.5 286.021 3692.5 299L3692.5 393C3692.5 405.979 3681.98 416.5 3669 416.5L2232 416.5C2219.02 416.5 2208.5 405.979 2208.5 393Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 2361.56 374)">sfs_mkdir</text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 2768.9 374)">/</text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 2814.16 374)">sfs_mknod</text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 3221.5 374)">: </text><text font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 3312.02 374)">sfs.c</text><path d="M2021 689.5 1970.5 639 2021 588.5 2021 613.75 2106 613.75 2106 588.5 2156.5 639 2106 689.5 2106 664.25 2021 664.25Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><path d="M2021 1359.5 1970.5 1309 2021 1258.5 2021 1283.75 2106 1283.75 2106 1258.5 2156.5 1309 2106 1359.5 2106 1334.25 2021 1334.25Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><path d="M2951.15 416 2951.15 516.833 2948.85 516.833 2948.85 416ZM2936.25 416C2936.25 408.406 2942.41 402.25 2950 402.25 2957.59 402.25 2963.75 408.406 2963.75 416 2963.75 423.594 2957.59 429.75 2950 429.75 2942.41 429.75 2936.25 423.594 2936.25 416ZM2963.75 512.25 2950 539.75 2936.25 512.25Z"/><path d="M2951.15 728 2951.15 936.2 2948.85 936.2 2948.85 728ZM2936.25 728C2936.25 720.406 2942.41 714.25 2950 714.25 2957.59 714.25 2963.75 720.406 2963.75 728 2963.75 735.594 2957.59 741.75 2950 741.75 2942.41 741.75 2936.25 735.594 2936.25 728ZM2963.75 931.617 2950 959.117 2936.25 931.617Z"/><rect x="2208.5" y="1813.5" width="1484" height="111" stroke="#000000" stroke-width="4.58333" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="18.3333 13.75" fill="#FFFFFF"/><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2240.55 1890)">inode</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 2453.67 1890)">=</text><text fill="#AA3731" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="700" font-size="64" transform="matrix(1 0 0 1 2524.72 1890)">sfs_alloc_inode</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3057.53 1890)">(</text><text fill="#7A3E9D" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3093.05 1890)">dentry</text><text fill="#777777" font-family="Consolas,Consolas_MSFontService,sans-serif" font-weight="400" font-size="64" transform="matrix(1 0 0 1 3306.17 1890)">);</text><path d="M2021 1921.5 1970.5 1871 2021 1820.5 2021 1845.75 2106 1845.75 2106 1820.5 2156.5 1871 2106 1921.5 2106 1896.25 2021 1896.25Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><path d="M1091.5 2088.83C1091.5 2075.95 1101.95 2065.5 1114.83 2065.5L1895.17 2065.5C1908.05 2065.5 1918.5 2075.95 1918.5 2088.83L1918.5 2182.17C1918.5 2195.05 1908.05 2205.5 1895.17 2205.5L1114.83 2205.5C1101.95 2205.5 1091.5 2195.05 1091.5 2182.17Z" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1422.01 2163)">结束</text><path d="M1.14583-0.00250487 1.24803 46.7475-1.04363 46.7526-1.14583 0.00250487ZM-13.75 0.0300585C-13.7666-7.56384-7.62396-13.7334-0.0300585-13.75 7.56384-13.7666 13.7334-7.62396 13.75-0.0300585 13.7666 7.56384 7.62396 13.7334 0.0300585 13.75-7.56384 13.7666-13.7334 7.62396-13.75 0.0300585ZM13.8421 42.1367 0.152297 69.6667-13.6578 42.1968Z" transform="matrix(-1 0 0 1 1505.15 1995)"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 1537.08 1170)">否</text><path d="M1090.63 974.218 922.895 971.515 922.932 969.224 1090.67 971.927ZM1090.87 959.324C1098.47 959.447 1104.52 965.701 1104.4 973.294 1104.28 980.887 1098.02 986.943 1090.43 986.821 1082.84 986.699 1076.78 980.444 1076.9 972.851 1077.03 965.258 1083.28 959.202 1090.87 959.324ZM927.275 984.191 900 970 927.718 956.695Z"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 973.319 931)">是</text><rect x="423.5" y="884.5" width="477" height="172" stroke="#000000" stroke-width="4.58333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Microsoft YaHei,Microsoft YaHei_MSFontService,sans-serif" font-weight="400" font-size="83" transform="matrix(1 0 0 1 496.722 998)">自行处理</text></g></svg>